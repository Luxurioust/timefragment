(function(){(function(){var b=document.createElement("div"),d=!1;["Moz","Webkit","ms"].forEach(function(c){d|=c+"Animation" in b.style});return !!d})();document.createElement("input").setAttribute("type","file");window.navigator.userAgent.match(/Macintosh/);(function(){var b=document.createElement("div"),d=!1;["Moz","Webkit","ms"].forEach(function(c){d|=c+"Transition" in b.style});return !!d})();$(a);function a(){$("form").each(function(){$(this).css("top",$(window).height()/2-$(this).outerHeight()/2+$("header").height()/2)})}(function(){function D(){$("body").mousemove(function(c){A=c.clientX;z=c.clientY;o=Date.now();y||C()});$(window).on("blur mouseout",function(){z=A=null}).on("resize",function(){J&&J.parentNode&&J.parentNode.removeChild(J);I()});I()}function I(){var c=null==F?!0:!1;J=document.createElement("canvas");J.width=$(window).width();J.height=$(window).height();$("body").append(J);F=document.createElement("canvas");F.width=$(window).width();F.height=$(window).height();J.getContext&&J.getContext("2d")&&(B=J.getContext("2d"),G=F.getContext("2d"),G.lineCap="round",G.shadowColor="#000000",G.shadowBlur=30,E=new Image,E.src=$("body").css("background-image").replace(/url\((.*)\)/,"$1").replace(/\.jpg/,"_color.jpg"),E.onload=function(){c&&C()})}function C(){var f=Date.now();y=f>o+i?!1:!0;A&&y&&H.splice(0,0,{time:f,x:A,y:z});for(var d=0;d<H.length;){f-H[d].time>u?H.splice(d,H.length):d++}0<H.length&&window.h(C);G.clearRect(0,0,F.width,F.height);for(d=1;d<H.length;d++){var e=Math.sqrt(Math.pow(H[d].x-H[d-1].x,2)+Math.pow(H[d].y-H[d-1].y,2));G.strokeStyle="rgba(0,0,0,"+Math.max(1-(f-H[d].time)/u,0)+")";G.lineWidth=j+Math.max(1-e/h,0)*(b-j);G.beginPath();G.moveTo(H[d-1].x,H[d-1].y);G.lineTo(H[d].x,H[d].y);G.stroke()}f=J.width;d=J.width/E.naturalWidth*E.naturalHeight;d<J.height&&(d=J.height,f=J.height/E.naturalHeight*E.naturalWidth);B.drawImage(E,0,0,f,d);B.globalCompositeOperation="destination-in";B.drawImage(F,0,0);B.globalCompositeOperation="source-over"}var u=1000,j=25,b=100,h=50,i=u/2,J,F,B,G,E,A=null,z=null,H=[],o=0,y=!0;"createTouch" in document||$(D);window.h=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c){window.setTimeout(c,1000/60)}}()})()})();