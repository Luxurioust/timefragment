/*!
 * skrollr core
 *
 * Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr
 *
 * Free to use under terms of MIT license
 */
(function(aR,V,z){var a=aR.skrollr={get:function(){return N},init:function(aW){return N||new aH(aW)},VERSION:"0.6.21"};var aF=Object.prototype.hasOwnProperty;var al=aR.Math;var ay=aR.getComputedStyle;var y;var t;var w="touchstart";var aM="touchmove";var aa="touchcancel";var e="touchend";var ai="skrollable";var Y=ai+"-before";var aT=ai+"-between";var P=ai+"-after";var i="skrollr";var aw="no-"+i;var ae=i+"-desktop";var n=i+"-mobile";var g="linear";var W=1000;var ap=0.004;var aB=200;var F="start";var ac="end";var ar="center";var o="bottom";var j="___skrollable_id";var af=/^(?:input|textarea|button|select)$/i;var p=/^\s+|\s+$/g;var G=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/;var u=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi;var d=/^([a-z\-]+)\[(\w+)\]$/;var am=/-([a-z])/g;var at=function(aX,aW){return aW.toUpperCase()};var au=/[\-+]?[\d]*\.?[\d]+/g;var M=/\{\?\}/g;var m=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g;var aA=/[a-z\-]+-gradient/g;var D="";var ah="";var aP=function(){var aY=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(!ay){return}var aX=ay(t,null);for(var aW in aX){D=(aW.match(aY)||(+aW==aW&&aX[aW].match(aY)));if(D){break}}if(!D){D=ah="";return}D=D[0];if(D.slice(0,1)==="-"){ah=D;D=({"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"})[D]}else{ah="-"+D.toLowerCase()+"-"}};var k=function(){var aW=aR.requestAnimationFrame||aR[D.toLowerCase()+"RequestAnimationFrame"];var aX=L();if(I||!aW){aW=function(a0){var aY=L()-aX;var aZ=al.max(0,1000/60-aY);return aR.setTimeout(function(){aX=L();a0()},aZ)}}return aW};var aj=function(){var aW=aR.cancelAnimationFrame||aR[D.toLowerCase()+"CancelAnimationFrame"];if(I||!aW){aW=function(aX){return aR.clearTimeout(aX)}}return aW};var J={begin:function(){return 0},end:function(){return 1},linear:function(aW){return aW},quadratic:function(aW){return aW*aW},cubic:function(aW){return aW*aW*aW},swing:function(aW){return(-al.cos(aW*al.PI)/2)+0.5},sqrt:function(aW){return al.sqrt(aW)},outCubic:function(aW){return(al.pow((aW-1),3)+1)},bounce:function(aX){var aW;if(aX<=0.5083){aW=3}else{if(aX<=0.8489){aW=9}else{if(aX<=0.96208){aW=27}else{if(aX<=0.99981){aW=91}else{return 1}}}}return 1-al.abs(3*al.cos(aX*aW*1.028)/aW)}};function aH(aX){y=V.documentElement;t=V.body;aP();N=this;aX=aX||{};X=aX.constants||{};if(aX.easing){for(var aZ in aX.easing){J[aZ]=aX.easing[aZ]}}aK=aX.edgeStrategy||"set";f={beforerender:aX.beforerender,render:aX.render};Z=aX.forceHeight!==false;if(Z){ao=aX.scale||1}aq=aX.mobileDeceleration||ap;B=aX.smoothScrolling!==false;r=aX.smoothScrollingDuration||aB;aC={targetTop:N.getScrollTop()};I=((aX.mobileCheck||function(){return(/Android|iPhone|iPad|iPod|BlackBerry/i).test(navigator.userAgent||navigator.vendor||aR.opera)})());if(I){R=V.getElementById("skrollr-body");if(R){aU()}s();v(y,[i,n],[aw])}else{v(y,[i,ae],[aw])}N.refresh();aV(aR,"resize orientationchange",function(){var a1=y.clientWidth;var a0=y.clientHeight;if(a0!==A||a1!==l){A=a0;l=a1;av=true}});var aY=k();(function aW(){ag();aO=aY(aW)}());return N}aH.prototype.refresh=function(a5){var a4;var bh;var a3=false;if(a5===z){a3=true;S=[];ak=0;a5=V.getElementsByTagName("*")}else{a5=[].concat(a5)}a4=0;bh=a5.length;for(;a4<bh;a4++){var aX=a5[a4];var a1=aX;var aW=[];var be=B;var ba=aK;if(!aX.attributes){continue}var bd=0;var a6=aX.attributes.length;for(;bd<a6;bd++){var a8=aX.attributes[bd];if(a8.name==="data-anchor-target"){a1=V.querySelector(a8.value);if(a1===null){throw'Unable to find anchor target "'+a8.value+'"'}continue}if(a8.name==="data-smooth-scrolling"){be=a8.value!=="off";continue}if(a8.name==="data-edge-strategy"){ba=a8.value;continue}var a2=a8.name.match(G);if(a2===null){continue}var aZ={props:a8.value,element:aX};aW.push(aZ);var aY=a2[1];if(aY){aZ.constant=aY.substr(1)}var a0=a2[2];if(/p$/.test(a0)){aZ.isPercentage=true;aZ.offset=(a0.slice(0,-1)|0)/100}else{aZ.offset=(a0|0)}var bg=a2[3];var bf=a2[4]||bg;if(!bg||bg===F||bg===ac){aZ.mode="absolute";if(bg===ac){aZ.isEnd=true}else{if(!aZ.isPercentage){aZ.offset=aZ.offset*ao}}}else{aZ.mode="relative";aZ.anchors=[bg,bf]}}if(!aW.length){continue}var bc,a9;var a7;if(!a3&&j in aX){a7=aX[j];bc=S[a7].styleAttr;a9=S[a7].classAttr}else{a7=(aX[j]=ak++);bc=aX.style.cssText;a9=an(aX)}S[a7]={element:aX,styleAttr:bc,classAttr:a9,anchorTarget:a1,keyFrames:aW,smoothScrolling:be,edgeStrategy:ba};v(aX,[ai],[])}T();a4=0;bh=a5.length;for(;a4<bh;a4++){var bb=S[a5[a4][j]];if(bb===z){continue}x(bb);E(bb)}return N};aH.prototype.relativeToAbsolute=function(aX,aY,a0){var aW=y.clientHeight;var aZ=aX.getBoundingClientRect();var a2=aZ.top;var a1=aZ.bottom-aZ.top;if(aY===o){a2-=aW}else{if(aY===ar){a2-=aW/2}}if(a0===o){a2+=a1}else{if(a0===ar){a2+=a1/2}}a2+=N.getScrollTop();return(a2+0.5)|0};aH.prototype.animateTo=function(aZ,aX){aX=aX||{};var aW=L();var aY=N.getScrollTop();aD={startTop:aY,topDiff:aZ-aY,targetTop:aZ,duration:aX.duration||W,startTime:aW,endTime:aW+(aX.duration||W),easing:J[aX.easing||g],done:aX.done};if(!aD.topDiff){if(aD.done){aD.done.call(N,false)}aD=z}return N};aH.prototype.stopAnimateTo=function(){if(aD&&aD.done){aD.done.call(N,true)}aD=z};aH.prototype.isAnimatingTo=function(){return !!aD};aH.prototype.setScrollTop=function(aX,aW){aJ=(aW===true);if(I){aI=al.min(al.max(aX,0),ax)}else{aR.scrollTo(0,aX)}return N};aH.prototype.getScrollTop=function(){if(I){return aI}else{return aR.pageYOffset||y.scrollTop||t.scrollTop||0}};aH.prototype.getMaxScrollTop=function(){return ax};aH.prototype.on=function(aW,aX){f[aW]=aX;return N};aH.prototype.off=function(aW){delete f[aW];return N};aH.prototype.destroy=function(){var aX=aj();aX(aO);c();v(y,[aw],[i,ae,n]);var aW=0;var aY=S.length;for(;aW<aY;aW++){H(S[aW].element)}y.style.overflow=t.style.overflow="auto";y.style.height=t.style.height="auto";if(R){a.setStyle(R,"transform","none")}N=z;R=z;f=z;Z=z;ax=0;ao=1;X=z;aq=z;h="down";C=-1;l=0;A=0;av=false;aD=z;B=z;r=z;aC=z;aJ=z;ak=0;aK=z;I=false;aI=0;ad=z};var s=function(){var a7;var a4;var a6;var a2;var a0;var a1;var a3;var aY;var aZ;var aX;var aW;var a5;aV(y,[w,aM,aa,e].join(" "),function(bd){var bb=bd.changedTouches[0];a2=bd.target;while(a2.nodeType===3){a2=a2.parentNode}a0=bb.clientY;a1=bb.clientX;aX=bd.timeStamp;if(!af.test(a2.tagName)){bd.preventDefault()}switch(bd.type){case w:if(a7){a7.blur()}N.stopAnimateTo();a7=a2;a4=a3=a0;a6=a1;aZ=aX;break;case aM:if(af.test(a2.tagName)&&V.activeElement!==a2){bd.preventDefault()}aY=a0-a3;a5=aX-aW;N.setScrollTop(aI-aY,true);a3=a0;aW=aX;break;default:case aa:case e:var be=a4-a0;var bg=a6-a1;var bc=bg*bg+be*be;if(bc<49){if(!af.test(a7.tagName)){a7.focus();var bh=V.createEvent("MouseEvents");bh.initMouseEvent("click",true,true,bd.view,1,bb.screenX,bb.screenY,bb.clientX,bb.clientY,bd.ctrlKey,bd.altKey,bd.shiftKey,bd.metaKey,0,null);a7.dispatchEvent(bh)}return}a7=z;var a9=aY/a5;a9=al.max(al.min(a9,3),-3);var ba=al.abs(a9/aq);var bi=a9*ba+0.5*aq*ba*ba;var bf=N.getScrollTop()-bi;var a8=0;if(bf>ax){a8=(ax-bf)/bi;bf=ax}else{if(bf<0){a8=-bf/bi;bf=0}}ba=ba*(1-a8);N.animateTo((bf+0.5)|0,{easing:"outCubic",duration:ba});break}});aR.scrollTo(0,0);y.style.overflow=t.style.overflow="hidden"};var K=function(){var a6=y.clientHeight;var a8=az();var aY;var a4;var a3;var a5;var aW;var aZ;var a0;var a2;var a7;var a1;var aX;a2=0;a7=S.length;for(;a2<a7;a2++){aY=S[a2];a4=aY.element;a3=aY.anchorTarget;a5=aY.keyFrames;aW=0;aZ=a5.length;for(;aW<aZ;aW++){a0=a5[aW];a1=a0.offset;aX=a8[a0.constant]||0;a0.frame=a1;if(a0.isPercentage){a1=a1*a6;a0.frame=a1}if(a0.mode==="relative"){H(a4);a0.frame=N.relativeToAbsolute(a3,a0.anchors[0],a0.anchors[1])-a1;H(a4,true)}a0.frame+=aX;if(Z){if(!a0.isEnd&&a0.frame>ax){ax=a0.frame}}}}ax=al.max(ax,Q());a2=0;a7=S.length;for(;a2<a7;a2++){aY=S[a2];a5=aY.keyFrames;aW=0;aZ=a5.length;for(;aW<aZ;aW++){a0=a5[aW];aX=a8[a0.constant]||0;if(a0.isEnd){a0.frame=ax-a0.offset+aX}}aY.keyFrames.sort(aG)}};var ab=function(ba,bb){var aY=0;var a0=S.length;for(;aY<a0;aY++){var be=S[aY];var aX=be.element;var a7=be.smoothScrolling?ba:bb;var a6=be.keyFrames;var a3=a6[0].frame;var aW=a6[a6.length-1].frame;var bc=a7<a3;var a5=a7>aW;var bf=a6[bc?0:a6.length-1];var bg;var a9;if(bc||a5){if(bc&&be.edge===-1||a5&&be.edge===1){continue}v(aX,[bc?Y:P],[Y,aT,P]);be.edge=bc?-1:1;switch(be.edgeStrategy){case"reset":H(aX);continue;case"ease":a7=bf.frame;break;default:case"set":var aZ=bf.props;for(bg in aZ){if(aF.call(aZ,bg)){a9=b(aZ[bg].value);a.setStyle(aX,bg,a9)}}continue}}else{if(be.edge!==0){v(aX,[ai,aT],[Y,P]);be.edge=0}}var a4=0;var a8=a6.length-1;for(;a4<a8;a4++){if(a7>=a6[a4].frame&&a7<=a6[a4+1].frame){var a1=a6[a4];var bd=a6[a4+1];for(bg in a1.props){if(aF.call(a1.props,bg)){var a2=(a7-a1.frame)/(bd.frame-a1.frame);a2=a1.props[bg].easing(a2);a9=aN(a1.props[bg].value,bd.props[bg].value,a2);a9=b(a9);a.setStyle(aX,bg,a9)}}break}}}};var ag=function(){if(av){av=false;T()}var aY=N.getScrollTop();var aX;var a0=L();var aZ;if(aD){if(a0>=aD.endTime){aY=aD.targetTop;aX=aD.done;aD=z}else{aZ=aD.easing((a0-aD.startTime)/aD.duration);aY=(aD.startTop+aZ*aD.topDiff)|0}N.setScrollTop(aY,true)}else{if(!aJ){var aW=aC.targetTop-aY;if(aW){aC={startTop:C,topDiff:aY-C,targetTop:aY,startTime:aQ,endTime:aQ+r}}if(a0<=aC.endTime){aZ=J.sqrt((a0-aC.startTime)/r);aY=(aC.startTop+aZ*aC.topDiff)|0}}}if(I&&R){a.setStyle(R,"transform","translate(0, "+-(aI)+"px) "+ad)}if(aJ||C!==aY){h=(aY>C)?"down":(aY<C?"up":h);aJ=false;var a2={curTop:aY,lastTop:C,maxTop:ax,direction:h};var a1=f.beforerender&&f.beforerender.call(N,a2);if(a1!==false){ab(aY,N.getScrollTop());C=aY;if(f.render){f.render.call(N,a2)}}if(aX){aX.call(N,false)}}aQ=a0};var x=function(aY){var aX=0;var a0=aY.keyFrames.length;for(;aX<a0;aX++){var aZ=aY.keyFrames[aX];var a2;var a4;var aW;var a3={};var a1;while((a1=u.exec(aZ.props))!==null){aW=a1[1];a4=a1[2];a2=aW.match(d);if(a2!==null){aW=a2[1];a2=a2[2]}else{a2=g}a4=a4.indexOf("!")?U(a4):[a4.slice(1)];a3[aW]={value:a4,easing:J[a2]}}aZ.props=a3}};var U=function(aX){var aW=[];m.lastIndex=0;aX=aX.replace(m,function(aY){return aY.replace(au,function(aZ){return aZ/255*100+"%"})});if(ah){aA.lastIndex=0;aX=aX.replace(aA,function(aY){return ah+aY})}aX=aX.replace(au,function(aY){aW.push(+aY);return"{?}"});aW.unshift(aX);return aW};var E=function(aX){var aW={};var aZ;var aY;aZ=0;aY=aX.keyFrames.length;for(;aZ<aY;aZ++){aL(aX.keyFrames[aZ],aW)}aW={};aZ=aX.keyFrames.length-1;for(;aZ>=0;aZ--){aL(aX.keyFrames[aZ],aW)}};var aL=function(aY,aW){var aX;for(aX in aW){if(!aF.call(aY.props,aX)){aY.props[aX]=aW[aX]}}for(aX in aY.props){aW[aX]=aY.props[aX]}};var aN=function(a0,aZ,aY){var a1;var aW=a0.length;if(aW!==aZ.length){throw"Can't interpolate between \""+a0[0]+'" and "'+aZ[0]+'"'}var aX=[a0[0]];a1=1;for(;a1<aW;a1++){aX[a1]=a0[a1]+((aZ[a1]-a0[a1])*aY)}return aX};var b=function(aX){var aW=1;M.lastIndex=0;return aX[0].replace(M,function(){return aX[aW++]})};var H=function(a1,aY){a1=[].concat(a1);var aX;var a0;var aW=0;var aZ=a1.length;for(;aW<aZ;aW++){a0=a1[aW];aX=S[a0[j]];if(!aX){continue}if(aY){a0.style.cssText=aX.dirtyStyleAttr;v(a0,aX.dirtyClassAttr)}else{aX.dirtyStyleAttr=a0.style.cssText;aX.dirtyClassAttr=an(a0);a0.style.cssText=aX.styleAttr;v(a0,aX.classAttr)}}};var aU=function(){ad="translateZ(0)";a.setStyle(R,"transform",ad);var aY=ay(R);var aX=aY.getPropertyValue("transform");var aW=aY.getPropertyValue(ah+"transform");var aZ=(aX&&aX!=="none")||(aW&&aW!=="none");if(!aZ){ad=""}};a.setStyle=function(aX,a0,aY){var aW=aX.style;a0=a0.replace(am,at).replace("-","");if(a0==="zIndex"){if(isNaN(aY)){aW[a0]=aY}else{aW[a0]=""+(aY|0)}}else{if(a0==="float"){aW.styleFloat=aW.cssFloat=aY}else{try{if(D){aW[D+a0.slice(0,1).toUpperCase()+a0.slice(1)]=aY}aW[a0]=aY}catch(aZ){}}}};var aV=a.addEvent=function(aZ,a1,a2){var a0=function(a3){a3=a3||aR.event;if(!a3.target){a3.target=a3.srcElement}if(!a3.preventDefault){a3.preventDefault=function(){a3.returnValue=false}}return a2.call(this,a3)};a1=a1.split(" ");var aY;var aX=0;var aW=a1.length;for(;aX<aW;aX++){aY=a1[aX];if(aZ.addEventListener){aZ.addEventListener(aY,a2,false)}else{aZ.attachEvent("on"+aY,a0)}aE.push({element:aZ,name:aY,listener:a2})}};var q=a.removeEvent=function(aY,aZ,a0){aZ=aZ.split(" ");var aX=0;var aW=aZ.length;for(;aX<aW;aX++){if(aY.removeEventListener){aY.removeEventListener(aZ[aX],a0,false)}else{aY.detachEvent("on"+aZ[aX],a0)}}};var c=function(){var aY;var aW=0;var aX=aE.length;for(;aW<aX;aW++){aY=aE[aW];q(aY.element,aY.name,aY.listener)}aE=[]};var T=function(){var aW=N.getScrollTop();ax=0;if(Z&&!I){t.style.height="auto"}K();if(Z&&!I){t.style.height=(ax+y.clientHeight)+"px"}if(I){N.setScrollTop(al.min(N.getScrollTop(),ax))}else{N.setScrollTop(aW,true)}aJ=true};var az=function(){var aW=y.clientHeight;var aZ={};var aY;var aX;for(aY in X){aX=X[aY];if(typeof aX==="function"){aX=aX.call(N)}else{if((/p$/).test(aX)){aX=(aX.slice(0,-1)/100)*aW}}aZ[aY]=aX}return aZ};var Q=function(){var aX=(R&&R.offsetHeight||0);var aW=al.max(aX,t.scrollHeight,t.offsetHeight,y.scrollHeight,y.offsetHeight,y.clientHeight);return aW-y.clientHeight};var an=function(aW){var aX="className";if(aR.SVGElement&&aW instanceof aR.SVGElement){aW=aW[aX];aX="baseVal"}return aW[aX]};var v=function(aZ,a4,a0){var aW="className";if(aR.SVGElement&&aZ instanceof aR.SVGElement){aZ=aZ[aW];aW="baseVal"}if(a0===z){aZ[aW]=a4;return}var aX=aZ[aW];var a3=0;var aY=a0.length;for(;a3<aY;a3++){aX=O(aX).replace(O(a0[a3])," ")}aX=aS(aX);var a2=0;var a1=a4.length;for(;a2<a1;a2++){if(O(aX).indexOf(O(a4[a2]))===-1){aX+=" "+a4[a2]}}aZ[aW]=aS(aX)};var aS=function(aW){return aW.replace(p,"")};var O=function(aW){return" "+aW+" "};var L=Date.now||function(){return +new Date()};var aG=function(aX,aW){return aX.frame-aW.frame};var N;var S;var R;var f;var Z;var ax=0;var ao=1;var X;var aq;var h="down";var C=-1;var aQ=L();var l=0;var A=0;var av=false;var aD;var B;var r;var aC;var aJ;var ak=0;var aK;var I=false;var aI=0;var ad;var aE=[];var aO}(window,document));