!function(d){function c(){var g=b(this);return isNaN(g.datetime)||d(this).text(a(g.datetime)),this}function b(g){if(g=d(g),!g.data("timeago")){g.data("timeago",{datetime:e.datetime(g)});var h=d.trim(g.text());!(h.length>0)||e.isTime(g)&&g.attr("title")||g.attr("title",h)}return g.data("timeago")}function a(g){return e.inWords(f(g))}function f(g){return(new Date).getTime()-g.getTime()}d.timeago=function(g){return g instanceof Date?a(g):"string"==typeof g?a(d.timeago.parse(g)):"number"==typeof g?a(new Date(g)):a(d.timeago.datetime(g))};var e=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:60000,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(m){function j(s,u){var t=d.isFunction(s)?s(u,m):s,v=n.numbers&&n.numbers[u]||u;return t.replace(/%d/i,v)}var n=this.settings.strings,i=n.prefixAgo,r=n.suffixAgo;this.settings.allowFuture&&0>m&&(i=n.prefixFromNow,r=n.suffixFromNow);var p=Math.abs(m)/1000,g=p/60,o=g/60,q=o/24,k=q/365,l=45>p&&j(n.seconds,Math.round(p))||90>p&&j(n.minute,1)||45>g&&j(n.minutes,Math.round(g))||90>g&&j(n.hour,1)||24>o&&j(n.hours,Math.round(o))||42>o&&j(n.day,1)||30>q&&j(n.days,Math.round(q))||45>q&&j(n.month,1)||365>q&&j(n.months,Math.round(q/30))||1.5>k&&j(n.year,1)||j(n.years,Math.round(k)),h=void 0===n.wordSeparator?" ":n.wordSeparator;return d.trim([i,l,r].join(h))},parse:function(h){var g=d.trim(h);return g=g.replace(/\.\d\d\d+/,""),g=g.replace(/-/,"/").replace(/-/,"/"),g=g.replace(/T/," ").replace(/Z/," UTC"),g=g.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(g)},datetime:function(h){var g=e.isTime(h)?d(h).attr("datetime"):d(h).attr("title");return e.parse(g)},isTime:function(g){return"time"===d(g).get(0).tagName.toLowerCase()}}),d.fn.timeago=function(){var h=this;h.each(c);var g=e.settings;return g.refreshMillis>0&&setInterval(function(){h.each(c)},g.refreshMillis),h},document.createElement("abbr"),document.createElement("time")}(jQuery);