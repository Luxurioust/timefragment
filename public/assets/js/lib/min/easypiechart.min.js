!function(a,b){"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define("EasyPieChart",["jquery"],b):b(a.jQuery)}(this,function(c){var a=function(e,n){var l,f=document.createElement("canvas");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(f);var m=f.getContext("2d");f.width=f.height=n.size,e.appendChild(f);var k=1;window.devicePixelRatio>1&&(k=window.devicePixelRatio,f.style.width=f.style.height=[n.size,"px"].join(""),f.width=f.height=n.size*k,m.scale(k,k)),m.translate(n.size/2,n.size/2),m.rotate((-0.5+n.rotate/180)*Math.PI);var i=(n.size-n.lineWidth)/2;n.scaleColor&&n.scaleLength&&(i-=n.scaleLength+2),Date.now=Date.now||function(){return +new Date};var j=function(q,o,r){r=Math.min(Math.max(-1,r||0),1);var p=0>=r?!0:!1;m.beginPath(),m.arc(0,0,i,0,2*Math.PI*r,p),m.strokeStyle=q,m.lineWidth=o,m.stroke()},d=function(){var q,p,o=24;m.lineWidth=1,m.fillStyle=n.scaleColor,m.save();for(var o=24;o>0;--o){o%6===0?(p=n.scaleLength,q=0):(p=0.6*n.scaleLength,q=n.scaleLength-p),m.fillRect(-n.size/2+q,0,p,1),m.rotate(Math.PI/12)}m.restore()},h=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(o){window.setTimeout(o,1000/60)}}(),g=function(){n.scaleColor&&d(),n.trackColor&&j(n.trackColor,n.lineWidth,1)};this.clear=function(){m.clearRect(n.size/-2,n.size/-2,n.size,n.size)},this.draw=function(p){n.scaleColor||n.trackColor?m.getImageData&&m.putImageData?l?m.putImageData(l,0,0):(g(),l=m.getImageData(0,0,n.size*k,n.size*k)):(this.clear(),g()):this.clear(),m.lineCap=n.lineCap;var o;o="function"==typeof n.barColor?n.barColor(p):n.barColor,j(o,n.lineWidth,p/100)}.bind(this),this.animate=function(r,q){var o=Date.now();n.onStart(r,q);var p=function(){var t=Math.min(Date.now()-o,n.animate.duration),s=n.easing(this,t,r,q-r,n.animate.duration);this.draw(s),n.onStep(r,q,s),t>=n.animate.duration?n.onStop(r,q):h(p)}.bind(this);h(p)}.bind(this)},b=function(g,h){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1000,enabled:!0},easing:function(k,l,j,n,m){return l/=m/2,1>l?n/2*l*l+j:-n/2*(--l*(l-2)-1)+j},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof a){d.renderer=a}else{if("undefined"==typeof SVGRenderer){throw new Error("Please load either the SVG- or the CanvasRenderer")}d.renderer=SVGRenderer}var e={},f=0,i=function(){this.el=g,this.options=e;for(var j in d){d.hasOwnProperty(j)&&(e[j]=h&&"undefined"!=typeof h[j]?h[j]:d[j],"function"==typeof e[j]&&(e[j]=e[j].bind(this)))}e.easing="string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?jQuery.easing[e.easing]:d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1000,enabled:e.animate}),this.renderer=new e.renderer(g,e),this.renderer.draw(f),g.dataset&&g.dataset.percent?this.update(parseFloat(g.dataset.percent)):g.getAttribute&&g.getAttribute("data-percent")&&this.update(parseFloat(g.getAttribute("data-percent")))}.bind(this);this.update=function(j){return j=parseFloat(j),e.animate.enabled?this.renderer.animate(f,j):this.renderer.draw(j),f=j,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},i()};c.fn.easyPieChart=function(d){return this.each(function(){var e;c.data(this,"easyPieChart")||(e=c.extend({},d,c(this).data()),c.data(this,"easyPieChart",new b(this,e)))})}});